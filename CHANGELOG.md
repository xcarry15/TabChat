# 更新日志

<!-- v0.3.0 | 2025-08-14
- 补写 0.3.0 版本记录；统一标题与注释
-->

## [0.3.4] - 2025-08-17
### 新功能 🎉
- 历史面板：新增左下角“历史”按钮与悬浮面板，滚动查看，默认可见区域至少 20 条，点击可填充输入框。

### Bug 修复 🐛
- 切换模式（搜索/AI/翻译）不再清空已存储的对话历史，仅“重置对话”按钮会清空。

### 其他 🧩
- 统一文件头与版本号至 v0.3.4（index.html、styles/main.css、scripts/*、manifest.json、package.json）。

## [0.3.0] - 2025-08-14
### 新功能 🎉
- 流式 AI 回复与最终 Markdown 渲染。
- 本地设置面板与对话记忆（可配置温度、TopP、最大输出、重试等）。

### 优化 ✨
- 统一 `index.html` 页面标题为 TabChat。
- 更正 `scripts/chat.js` 注释与实际行为一致。

### Bug 修复 🐛
- 多处细节健壮性与文案修正（错误提示、聚焦样式等）。

## [未发布]
### 新功能 🎉

### Bug 修复 🐛
### 性能 🏎️
- 背景动画：隐藏标签页自动暂停 rAF，恢复时重启；绘制循环使用 for 循环与直接字符串拼接，降低 GC 与临时对象；不改动视觉参数。
- 流式输出：刷新间隔从 60ms→100ms，合并高度计算到 rAF，减少重排重绘；输出处理中标记 `aria-busy`；流式阶段改为 Text 节点增量 append，最终再 Markdown 渲染，减少字符串拷贝。
### 动效丝滑 ✨
- 背景动效：加入 DPR 适配、时间步进 `dt`、圆端描边；星点改为径向渐变小圆并调整拖尾与亮度，视觉更干净丝滑（整体风格不变）。
